\documentclass[12pt, titlepage]{article}


\usepackage{fullpage}
\usepackage[round]{natbib}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{color}
\graphicspath{ {images/} }
\usepackage{float}
\usepackage{hyperref}
\hypersetup{
   colorlinks,
   citecolor=black,
   filecolor=black,
   linkcolor=red,
   urlcolor=blue
}
\usepackage[round]{natbib}


\newcounter{acnum}
\newcommand{\actheacnum}{AC\theacnum}
\newcommand{\acref}[1]{AC\ref{#1}}


\newcounter{ucnum}
\newcommand{\uctheucnum}{UC\theucnum}
\newcommand{\uref}[1]{UC\ref{#1}}


\newcounter{mnum}
\newcommand{\mthemnum}{M\themnum}
\newcommand{\mref}[1]{M\ref{#1}}


\title{SE 3XA3: Software Requirements Specification\\DJ NODE}


\author{Team 12, DJS
		\\ Amandeep Panesar - panesas2
		\\ Victor Velenchovsky - velech
		\\ Taha Mian - miantm
}


\date{\today}


\input{../../Comments}


\begin{document}


\maketitle


\pagenumbering{roman}
\tableofcontents
\listoftables
\listoffigures


\begin{table}[h]
\caption{\bf Revision History}
\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
9/11/16 & 0.1 & Started Sections 1,3,7\\
11/11/16 & 0.1 & Finsihed Sections 1,3,7 Starting Sections 2,5,6\\
12/11/16 & 0.2 & Finished All Sections\\ 
13/11/16 & 0.3 & Review \\
\textcolor{blue}{06/12/16} & \textcolor{blue}{1.0} &\textcolor{blue}{Rev1}\\
\bottomrule

\end{tabularx}
\end{table}


\clearpage


\pagenumbering{arabic}


\section{Introduction}
\subsection{Overview}
The world in today's day and age is evolving at an exponential pace. Both the automotive and retail industry have adapted and are becoming more and more technologically advanced. However, the entertainment sector and more specifically the playlist sub-sector of the entertainment industry has been struggling to keep up with technology. The DJS dynamic playlist system was designed to create a more modern approach to the music and entertainment industry. The DJS application allows the users to vote for specific songs through a fair and democratic voting system.
\subsection{Context}
This Module Guide (MG) document will provide a modular decomposition of the system and show the structure of the application. This document will also provide how the system meets functional and nonfunctional requirements described in the Software Requirements Specifications (SRS) document. In addition, the Module Interface Specification (MIS) will explain semantics of the system. The separate document follows the MG document and provides syntax,variables, and functions for each module.
\subsection{Design Principle}
The design principles employed in DJS are Information Hiding and Encapsulation. The use of both these development guidelines help each module hide secrets from the entire system. Encapsulation also allows data and functions to be accessed by certain modules and keeps the data and implementation safe from misuse or interference.
\subsection{MIS Module}
It is important to mention that the modules described in MIS are more generalized but refer to the same modules in this document. The Controller module mentioned in the MIS document is the Hardware Hiding module in the MG document. Furthermore, the Home module is the combination of Display Options Module and Display Total Votes. In addition, the Args module refers to the Input and Tally modules in this document. Finally, the other modules mentioned in the MIS remain the same and are equal to the ones mentioned in this document.

\subsection{Structure}
This MG document is organized in the following manner:
\renewcommand\labelitemii{$\square$}
\begin{itemize}


\item Section 2 Anticipated and Unlikely Changes
\item Section 3 Module Hierarchy


\item Section 4 Connection Between Requirements and Design


\item Section 5 Module Decomposition


\item Section 6 Traceability Matrix


\item Section 7 Use Hierarchy Between Modules




\end{itemize}




\section{Anticipated and Unlikely Changes} \label{SecChange}


This section lists possible changes to the system. According to the likeliness
of the change, the possible changes are classified into two
categories. Anticipated changes are listed in Section \ref{SecAchange}, and
unlikely changes are listed in Section \ref{SecUchange}.


\subsection{Anticipated Changes} \label{SecAchange}


The items listed below are the anticipated changes to occur in the design of DJS. The modularized design of DJS however allows only certain aspects of the implementation to be altered.


\begin{description}
\item[\refstepcounter{acnum} \actheacnum \label{ac1}:] The specific hardware on which the server is running.
\item[\refstepcounter{acnum} \actheacnum \label{ac2}:] The function which tallies votes for each individual song is hidden.
\item[\refstepcounter{acnum} \actheacnum \label{ac3}:] The function which lists all songs in the music folder is hidden.
\item[\refstepcounter{acnum} \actheacnum \label{ac4}:] The votes functions which increments the votes.  
\item[\refstepcounter{acnum} \actheacnum \label{ac5}:] The server function which hosts the home website should be hidden.
\item[\refstepcounter{acnum} \actheacnum \label{ac6}:] The socket.io emit function that allows the server and home page to communicate will be hidden.
\item[\refstepcounter{acnum} \actheacnum \label{ac7}:] A user's casted vote on a particular song should be hidden.
\end{description}


\subsection{Unlikely Changes} \label{SecUchange}
The following items are unlikely to change even after implementing the anticipated changes.


\begin{description}
\item[\refstepcounter{ucnum} \uctheucnum \label{ucIO}:] Input/Output devices
 (Input: File and/or Keyboard, Output: File, Memory, and/or Screen).
\item[\refstepcounter{ucnum} \uctheucnum \label{ucInput}:] There will always be a static source for music.
\item[\refstepcounter{ucnum} \uctheucnum \label{ucInput}:] The format of the media will stay consistent.
\item[\refstepcounter{ucnum} \uctheucnum \label{ucInput}:] The location where the server is hosted.
\item[\refstepcounter{ucnum} \uctheucnum \label{ucInput}:] The number of songs that are allowed for voting (5 songs can be shown as options for the user to vote for).
\end{description}


\section{Module Hierarchy} \label{SecMH}
The following are modules implemented in DJS. The modules are placed into a hierarchy based on decomposed secrets as displayed in the table below. The leaves listed below make up the hierarchy tree and are implemented in the system.


\begin{description}
\item [\refstepcounter{mnum} \mthemnum \label{mHH}:] Hardware-Hiding Module
\item [\refstepcounter{mnum} \mthemnum \label{mSR}:] Controller
\item [\refstepcounter{mnum} \mthemnum \label{mAS}:] \textcolor{blue}{Flags} \textcolor{red}{Consider renaming - CM}
\item [\refstepcounter{mnum} \mthemnum \label{mDO}:] Home
\item [\refstepcounter{mnum} \mthemnum \label{mLM}:] Library
\item [\refstepcounter{mnum} \mthemnum \label{mPM}:] Player
\item [\refstepcounter{mnum} \mthemnum \label{mIV}:] Voter

\end{description}


\begin{table}[h!]
\centering
\begin{tabular}{p{0.3\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Level 1} & \textbf{Level 2}\\
\midrule


{Hardware-Hiding Module} & M1 \\
\midrule


\multirow{7}{0.3\textwidth}{Behaviour-Hiding Module}
& M3\\
& M4 \\
& M5 \\
& M6 \\
& M7 \\
\midrule


\multirow{3}{0.3\textwidth}{Software Decision Module}
& \\
& M2 \\
\bottomrule


\end{tabular}
\caption{Module Hierarchy}
\label{TblMH}
\end{table}


\section{Connection Between Requirements and Design} \label{SecConnection}
The system was built to fulfill the requirements created during the design process. The server class in the DJS system calls and connects all components of the program which are then served to the end user. The requirements pertaining to appearance and usability are fulfilled by the home class which deals with creating the outline for the client side. The Library Module however does the background task of creating a list of five options the user can pick from. The result is then parsed into the Home Module which formats and places the five options as specified. In addition, while the options are being generated the user is assigned a unique identifier which is then saved on the users browser using cookies and is implemented in the Home Module and Controller Module. The user will then cast a vote for their favourite song which is sent to the server using the Home Module. This input module allows the server class to then initiate the Voter Module which totals all votes for every distinct option. After tallying the votes the software then decides on what song was voted the most and instantiates the Player Module. The server class allows the Player Module to execute if there is no song currently being played which in turn plays the option with the most votes. While those modules are running in the background the Controller Module is updating the counter in the home class to provide the user feedback on which song is the most voted and will most likely be played. The client side will also have a user help page which can provide instructions for the user if necessary. However, since the options are listed and are buttons the operation of the system should be intuitive and will only have static input (vote for song 1,2,3,4,or 5 no user text input). In addition, in order to satisfy the requirement of a song should always be played the project has set some defaults. The defaults are required when all options have equal or no votes since no clear majority exists. The default when this situation occurs is to pick a random song instead. Another requirement that is satisfied is keeping the graphical interface clean and simple which allows for intuitive control. The result of this allows only song titles to be shown which also helps avoid contradiction in cultural and political requirements.


\section{Module Decomposition} \label{SecMD}


\subsection{Hardware Hiding Modules (\mref{mHH})}


\begin{description}
\item[Secrets:]The data structure and algorithm used to implement the virtual
 hardware.
\item[Services:]Serves as a virtual hardware used by the rest of the
 system. This module provides the interface between the hardware and the
 software. So, the system can use it to display outputs or to accept inputs.
\item[Implemented By:] node.js
\end{description}


\subsection{Behaviour-Hiding Module}

\subsubsection{Flags(\mref{mAS})}


\begin{description}
\item[Secrets:]\textcolor{blue}{The data structure and algorithm used to locate user specified music.} \textcolor{red}{This needs to be noun! also, should be one thing - CM}
\item[Services:]From user input the directory is specified and all music located in the folder will be available to play on the system.
\item[Implemented By:] args.js
\end{description}

\subsubsection{Home(\mref{mDO})}


\begin{description}
\item[Secrets:]\textcolor{blue}{The algorithms used to display voting options, client interface, and identify users.}\textcolor{red}{Same as above! - CM}
\item[Services:]Uses an array passed from the library module to display the five options on the client side. Cookies is set and a unique identifer is used to distinguish votes from each user.
\item[Implemented By:] home.js
\end{description}



\subsubsection{Library(\mref{mLM})} 
\begin{description} 
\item[Secrets:] \textcolor{blue}{The algorithms and data structures used to read music folder directory}. \item[Services:]The module reads from the music directory and picks five songs which are then placed into an array for other modules to manipulate. \item[Implemented By:] library.js 
\end{description} 

\subsubsection{Player(\mref{mPM})}


\begin{description}
\item[Secrets:] \textcolor{blue}{The algorithms and data structures used to play music}.
\item[Services:]Uses the input parameter and plays the associated music with the default os sound player.
\item[Implemented By:]player.js
\end{description}



\subsubsection{Voter(\mref{mIV})}


\begin{description}
\item[Secrets:]\textcolor{blue}{The algorithms used to tally votes for each individual song} \textcolor{red}{All these should be redone - CM} \\
\item[Services:]Counts the number of votes from an array and returns the song with the maxmium amount of votes.
\item[Implemented By:] voter.js
\end{description}










\subsection{Software Decision Module}

\subsubsection{Controller(\mref{mSR})}


\begin{description}
\item[Secrets:] \textcolor{blue}{Application context and logic}
\item[Services:] \textcolor{blue}{Maps controllers together}
\item[Implemented By:] server.js
\end{description}





\section{Traceability Matrix} \label{SecTM}


This section shows two traceability matrices: between the modules and the
requirements and between the modules and the anticipated changes.


% the table should use mref, the requirements should be named, use something
% like fref
\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Req.} & \textbf{Modules}\\
\midrule
R1 & \mref{mSR}, \mref{mAS}, \mref{mDO}, \mref{mLM}\\
R2 & \mref{mLM}, \mref{mDO}\\
R3 & \mref{mDO},\mref{mSR},\mref{mLM}\\
R4 & \mref{mDO}\\
R5 & \mref{mLM}, \mref{mDO}\\
R6 & \mref{mSR}, \mref{mDO}\\
R7 & \mref{mDO}, \mref{mLM}, \mref{mPM}, \mref{mSR}\\
R8 & \mref{mLM}, \mref{mSR}\\
R9 & \mref{mIV}, \mref{mDO}, \mref{mSR}\\
R10 & \mref{mIV}, \mref{mPM}, \mref{mSR}\\
R11 & \mref{mSR}, \mref{mDO}\\
\bottomrule
\end{tabular}
\caption{Trace Between Requirements and Modules}
\label{TblRT}
\end{table}


\begin{table}[H]
\centering
\begin{tabular}{p{0.2\textwidth} p{0.6\textwidth}}
\toprule
\textbf{AC} & \textbf{Modules}\\
\midrule
\acref{ac1} & \mref{mHH}\\
\acref{ac2} & \mref{mIV}\\
\acref{ac3} & \mref{mLM}\\
\acref{ac4} & \mref{mDO}\\
\acref{ac5} & \mref{mSR}\\
\acref{ac6} & \mref{mDO},\mref{mSR}\\
\acref{ac7} & \mref{mIV}\\
\bottomrule
\end{tabular}
\caption{Trace Between Anticipated Changes and Modules}
\label{TblACT}
\end{table}


\section{Use Hierarchy Between Modules} \label{SecUse}


The DJS system was design to adhere to the principle of all Use Hierarchies having directed acyclic graphs (DAGS) which avoids cyclic dependencies. In addition, since all modules are connected to the Hardware-Hiding Module which interfaces with system hardware it has been shown separately.
\textcolor{red}{I prefer tree structures, but this looks okay. - CM} \\
\begin{figure}[H]
\centering
\includegraphics[width=1.0\textwidth]{MG7}
\caption{Use Hierarchy Between Modules}
\label{FigUH}
\end{figure}


%\section*{References}


\bibliographystyle {plainnat}
\bibliography {MG}


\end{document}




